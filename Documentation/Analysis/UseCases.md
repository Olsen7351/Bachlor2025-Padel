# Kravspecifikation og Use Cases (Prioriteret)

_Dette dokument er organiseret i en logisk rækkefølge for implementering. Prioriteringen (P1, P2, etc.) er sat for at bygge systemets kernefunktioner først og derefter tilføje mere avancerede analyser og features._

## Indholdsfortegnelse

1.  [Use Case Skabelon](#use-case-skabelon)
2.  [Roller](#roller)
3.  [Overordnede Krav (Prioriteret)](#overordnede-krav-prioriteret)
4.  [Use Cases (Prioriteret)](#use-cases-prioriteret)
    - [P1 - UC-09: Player-registrering](#p1---uc-09-player-registrering)
    - [P2 - UC-00: Player-login](#p2---uc-00-player-login)
    - [P3 - UC-01: Upload og behandling af kampvideo](#p3---uc-01-upload-og-behandling-af-kampvideo)
    - [P4 - UC-04: Opgørelse af samlet antal slag](#p4---uc-04-opgørelse-af-samlet-antal-slag)
    - [P5 - UC-03: Analyse af banezone-besættelse](#p5---uc-03-analyse-af-banezone-besættelse)
    - [P6 - UC-02: Visning af spiller-heatmaps](#p6---uc-02-visning-af-spiller-heatmaps)
    - [P7 - UC-05: Visualisering af slagpositioner](#p7---uc-05-visualisering-af-slagpositioner)
    - [P8 - UC-08: Analyse af duel-længde (rallies)](#p8---uc-08-analyse-af-duel-længde-rallies)
    - [P9 - UC-07: Filtrering af data pr. spiller](#p9---uc-07-filtrering-af-data-pr-spiller)
    - [P10 - UC-06: Personligt kamp-dashboard](#p10---uc-06-personligt-kamp-dashboard)
5.  [Ikke-funktionelle Krav (NFRs)](#ikke-funktionelle-krav-nfrs)

---

## Use Case Skabelon

En use case består af:

- Et **ID** til nem reference.
- En **kort beskrivelse**.
- En **brugerhistorie** i formatet "For at..., Som en..., Vil jeg...".
- **Succes- og fejlscenarier** i Gherkin-format (`GIVET AT-NÅR-SÅ SKAL`).

---

## Roller

- **Player**: En spiller, der ønsker at analysere egne og andres kampe.
- **Trainer**: En træner, der analyserer spilleres præstationer for at give feedback.
- **Admin**: En administrator af systemet.

---

## Overordnede Krav (Prioriteret)

- **P1:** Som en ny Player, vil jeg oprette en konto i systemet, så jeg kan tilgå mine personlige kampanalyser og benytte systemet.
- **P2:** Som en registreret Player, vil jeg kunne logge sikkert ind på systemet, så jeg kan tilgå mine personlige kampanalyser.
- **P3:** Som en Player, vil jeg uploade en videooptagelse af en kamp, så systemet kan analysere den og give mig indsigt i spillet.
- **P4:** Som en Player, vil jeg se en opgørelse over det samlede antal slag for hver spiller, så jeg kan få et mål for spillerens involvering og kampens intensitet.
- **P5:** Som en Trainer, vil jeg se en procentvis opdeling af, hvor meget tid min spiller tilbringer i den defensive, offensive og transitionelle zone, så jeg kan vurdere, om spillerens positionering matcher den aftalte taktik.
- **P6:** Som en Player, vil jeg se et heatmap af min egen og mine modstanderes positionering på banen, så jeg kan forstå mine strategiske tendenser og udnytte svagheder i modstandernes placering.
- **P7:** Som en Player, vil jeg se en visualisering af, hvor på banen jeg slår mine slag fra, så jeg kan analysere min skudfordeling og dækning af banen.
- **P8:** Som en Player, vil jeg se en analyse af længden på duellerne (rallies), så jeg kan identificere, om jeg vinder flest point i korte eller lange dueller.
- **P9:** Som en Trainer, vil jeg kunne filtrere analysen til kun at vise data for en specifik spiller, så jeg kan fokusere min feedback og forberedelse.
- **P10:** Som en Player, vil jeg have et simpelt og visuelt dashboard, der præsenterer alle mine data, så jeg hurtigt kan få et overblik over min præstation.

---

## Use Cases (Prioriteret)

### P1 - UC-09: Player-registrering

| Use Case Element      | Detaljer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| :-------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ID**                | UC-09                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Beskrivelse**       | En ny Player registrerer sig i systemet ved at oprette en Firebase-konto og derefter fuldføre registreringen i backend.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **User Story**        | **For at** få adgang til personlige kampanalyser<br>**Som en** ny Player (Player eller Trainer)<br>**Vil jeg** oprette en konto i systemet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Kommentarer**       | Registrering sker i to trin: (1) Firebase autentificering håndterer sikker oprettelse af Player med e-mail og adgangskode, (2) Backend gemmer Player's navn og Firebase UID i databasen. Dette sikrer at adgangskoder aldrig gemmes i vores database, og Firebase håndterer al autentificerings-sikkerhed.                                                                                                                                                                                                                                                                                                                                                             
| **Preconditions**     | - Player'en har ikke en eksisterende konto<br>- Systemet er online og Firebase er tilgængeligt                                                                                                                                                                                                                                                                                                                                                  |
| **Success Scenarios** | **S1: Succesfuld registrering**<br>**GIVET AT** jeg er på registreringssiden<br>**NÅR** jeg indtaster et gyldigt navn (mindst 1 tegn, maksimalt 100 tegn), en gyldig e-mail, en adgangskode (mindst 6 tegn ifølge Firebase regler), og trykker "Registrer"<br>**SÅ SKAL** Firebase oprette min konto<br>**OG** jeg skal modtage en Firebase ID token<br>**OG** systemet skal automatisk kalde backend API'et med mit navn og token<br>**OG** min profil skal oprettes i databasen med Firebase UID, navn, e-mail og rolle "player"<br>**OG** jeg skal blive viderestillet til mit dashboard (UC-06)                                                                                                                                                                                                                                                                                                                           |
| **Failure Scenarios** | **F1: Ugyldig e-mail-format**<br>**GIVET AT** jeg er på registreringssiden<br>**NÅR** jeg indtaster en e-mail uden korrekt format (fx mangler @, ugyldigt domæne)<br>**SÅ SKAL** Firebase afvise anmodningen<br>**OG** systemet skal vise en forklarende fejlmeddelelse<br><br>**F2: For kort adgangskode**<br>**GIVET AT** jeg er på registreringssiden<br>**NÅR** jeg indtaster en adgangskode med mindre end 6 tegn<br>**SÅ SKAL** Firebase afvise anmodningen<br>**OG** systemet skal vise en forklarende fejlmeddelelse<br><br>**F3: E-mail allerede i brug**<br>**GIVET AT** der allerede eksisterer en Firebase-konto med den e-mail jeg prøver at bruge<br>**NÅR** jeg forsøger at registrere med denne e-mail<br>**SÅ SKAL** Firebase afvise anmodningen<br>**OG** systemet skal vise en forklarende fejlmeddelelse<br><br>**F4: Tomt eller ugyldigt navn**<br>**GIVET AT** Firebase har godkendt min konto-oprettelse<br>**NÅR** backend modtager et tomt navn eller et navn med kun mellemrum<br>**SÅ SKAL** backend afvise anmodningen med statuskode 400<br>**OG** systemet skal vise en forklarende fejlmeddelelse<br><br>**F5: For langt navn**<br>**GIVET AT** Firebase har godkendt min konto-oprettelse<br>**NÅR** backend modtager et navn med mere end 100 tegn<br>**SÅ SKAL** backend afvise anmodningen med statuskode 400<br>**OG** systemet skal vise en forklarende fejlmeddelelse<br><br>**F6: Bruger eksisterer allerede i database**<br>**GIVET AT** Firebase har oprettet min konto<br>**OG** jeg allerede har en profil i backend databasen (fx fra tidligere registrering)<br>**NÅR** jeg forsøger at kalde registrerings-endpoint igen<br>**SÅ SKAL** backend afvise anmodningen med statuskode 400<br>**OG** systemet skal vise en forklarende fejlmeddelelse<br><br>**F7: Ugyldig eller udløbet Firebase token**<br>**GIVET AT** Firebase har oprettet min konto og givet mig en token<br>**NÅR** jeg forsøger at kalde backend med et ugyldigt eller udløbet token<br>**SÅ SKAL** backend afvise anmodningen med statuskode 401<br>**OG** systemet skal vise en forklarende fejlmeddelelse<br>|                                                                                                                                                                                                                                                          
| **Postconditions**    | **Ved succes:**<br>- Player eksisterer i Firebase med godkendt e-mail og adgangskode<br>- Player eksisterer i backend database med Firebase UID, navn, e-mail, og rolle<br>- Player er logget ind og har adgang til systemet<br><br>**Ved fejl:**<br>- Hvis Firebase fejler: Ingen konto oprettes<br>- Hvis backend fejler: Firebase-konto eksisterer, men Player'en kan fuldføre registrering senere |



### P2 - UC-00: Player-login

| Use Case Element      | Detaljer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| :-------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ID**                | UC-00                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Beskrivelse**       | En registreret Player logger ind via Firebase og henter sin profil fra backend systemet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **User Story**        | **For at** tilgå mine personlige kampanalyser<br>**Som en** registreret Player (Player/Trainer)<br>**Vil jeg** logge sikkert ind på systemet                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Kommentarer**       | Login håndteres i to trin: (1) Firebase autentificerer brugeren med e-mail og adgangskode, (2) Backend verificerer Firebase token og returnerer brugerens profil fra databasen. Firebase håndterer al adgangskode-sikkerhed, brute-force beskyttelse og session management.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Preconditions**     | - Player'en har en eksisterende konto i både Firebase og backend<br>- Player'en har fuldført registrering (UC-09)<br>- Systemet er online og Firebase er tilgængeligt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Success Scenarios** | **S1: Korrekt login**<br>**GIVET AT** jeg er på login-siden og har en gyldig konto<br>**NÅR** jeg indtaster min korrekte e-mail og adgangskode og trykker "Log ind"<br>**SÅ SKAL** Firebase autentificere mig og returnere et ID token<br>**OG** systemet skal automatisk kalde backend API'et med token<br>**OG** backend skal verificere token og returnere min profil fra databasen<br>**OG** jeg skal blive viderestillet til mit personlige dashboard (UC-06)<br><br>**S2: "Husk mig" funktion**<br>**GIVET AT** jeg tidligere er logget ind med "Husk mig" afkrydset<br>**NÅR** jeg besøger siden igen fra samme browser<br>**SÅ SKAL** Firebase automatisk fornye mit token<br>**OG** jeg skal være automatisk logget ind                                                                                                                                                                                                           |
| **Failure Scenarios** | **F1: Forkert adgangskode**<br>**GIVET AT** jeg er på login-siden<br>**NÅR** jeg indtaster en korrekt e-mail, men en forkert adgangskode<br>**SÅ SKAL** Firebase afvise login<br>**OG** systemet skal vise Firebase's fejlmeddelelse<br><br>**F2: Bruger eksisterer ikke i Firebase**<br>**GIVET AT** jeg er på login-siden<br>**NÅR** jeg indtaster en e-mail, der ikke er registreret i Firebase<br>**SÅ SKAL** Firebase afvise login<br>**OG** systemet skal vise Firebase's fejlmeddelelse<br><br>**F3: Bruger ikke fuldført registrering**<br>**GIVET AT** jeg har en Firebase-konto, men ikke har fuldført backend registrering (UC-09)<br>**NÅR** backend forsøger at hente min profil<br>**SÅ SKAL** backend returnere statuskode 404<br>**OG** systemet skal vise en forklarende fejlmeddelse såsom: "Profil ikke fundet. Fuldfør venligst registrering."<br><br>**F4: Ugyldig eller udløbet Firebase token**<br>**GIVET AT** jeg har et Firebase token fra tidligere<br>**NÅR** token er udløbet eller ugyldigt<br>**SÅ SKAL** backend afvise anmodningen med statuskode 401<br>**OG** systemet skal bede mig logge ind igen |
| **Postconditions**    | **Ved succes:**<br>- Player er autentificeret via Firebase<br>- Player's profil er hentet fra backend database<br>- Player har et gyldigt Firebase ID token<br>- Player er logget ind og har adgang til systemet<br><br>**Ved fejl:**<br>- Player forbliver uautentificeret<br>- Ingen adgang til beskyttede ressourcer |


### P3 - UC-01: Upload og behandling af kampvideo

| Use Case Element      | Detaljer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| :-------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ID**                | UC-01                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Beskrivelse**       | En spiller uploader en videofil til analyse.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **User Story**        | **For at** få indsigt i spillet og min præstation via systemets analyse<br>**Som en** Player<br>**Vil jeg** uploade en videooptagelse af en kamp                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Kommentarer**       | Grundlæggende funktion for at få data ind i systemet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Success Scenarios** | **S1: Vellykket upload**<br>**GIVET AT** jeg er logget ind og er på upload-siden<br>**OG** jeg har en videofil i et understøttet format<br>**NÅR** jeg vælger filen og trykker "Upload"<br>**SÅ SKAL** systemet acceptere filen, starte uploadet og vise status<br>**OG** ved færdigt upload skal jeg modtage en bekræftelse, og analysen skal starte<br><br>**S2: Upload mens anden video analyseres**<br>**GIVET AT** jeg allerede har en video, der analyseres<br>**NÅR** jeg uploader endnu en gyldig videofil<br>**SÅ SKAL** systemet acceptere den nye fil, sætte den i kø og vise status for begge videoer                                                                                                                                                                                                                                                                                                                                                                                    |
| **Failure Scenarios** | **F1: Filformat ikke understøttet**<br>**GIVET AT** jeg er på upload-siden<br>**NÅR** jeg forsøger at uploade en fil med et ikke-understøttet format<br>**SÅ SKAL** systemet afvise filen og vise en fejlmeddelelse med understøttede formater<br><br>**F2: Filen er for stor**<br>**GIVET AT** jeg er på upload-siden<br>**NÅR** jeg forsøger at uploade en fil, der overskrider størrelsesgrænsen<br>**SÅ SKAL** systemet afvise filen og vise en fejlmeddelelse med den maksimale størrelse<br><br>**F3: Netværksfejl under upload**<br>**GIVET AT** jeg er i gang med et upload<br>**NÅR** min internetforbindelse afbrydes<br>**SÅ SKAL** uploadet stoppe, og systemet skal vise en netværksfejl med mulighed for at prøve igen<br><br>**F4: Videoindhold kan ikke analyseres**<br>**GIVET AT** en video er uploadet<br>**NÅR** AI-modellen ikke kan genkende en padelbane/spillere<br>**SÅ SKAL** analysen afbrydes, og videoens status skal opdateres til "Analyse fejlet" med en begrundelse |

### P4 - UC-04: Opgørelse af samlet antal slag

| Use Case Element      | Detaljer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| :-------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ID**                | UC-04                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Beskrivelse**       | Opgørelse af det samlede antal slag for hver spiller.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **User Story**        | **For at** få et mål for spillerens involvering og kampens intensitet<br>**Som en** Player<br>**Vil jeg** se en opgørelse over det samlede antal slag for hver spiller                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Kommentarer**       | Den simpleste kvantitative metrik fra analysen. Godt første skridt for at validere data.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Success Scenarios** | **S1: Visning af antal slag**<br>**GIVET AT** en kamp er succesfuldt analyseret<br>**OG** jeg er på kampens overbliksside<br>**NÅR** jeg kigger på nøglestatistikker<br>**SÅ SKAL** systemet vise en liste med spillere og deres samlede antal slag<br><br>**S2: Filtrering pr. sæt**<br>**GIVET AT** jeg er på overblikssiden for en kamp med flere sæt<br>**NÅR** jeg filtrerer til kun at vise "2. sæt"<br>**SÅ SKAL** antallet af slag opdateres til kun at afspejle andet sæt<br><br>**S3: Visuel sammenligning**<br>**GIVET AT** jeg er på overblikssiden<br>**NÅR** jeg ser på spiller-sammenligninger<br>**SÅ SKAL** systemet vise et søjlediagram, der sammenligner antal slag for alle spillere |
| **Failure Scenarios** | **F1: Slag-data er ikke tilgængelige**<br>**GIVET AT** slag-identifikationen er fejlet under analysen<br>**NÅR** jeg forsøger at se statistikken for antal slag<br>**SÅ SKAL** systemet vise "Data ikke tilgængeligt" i de relevante felter                                                                                                                                                                                                                                                                                                                                                                                                                                                               |

### P5 - UC-03: Analyse af banezone-besættelse

| Use Case Element      | Detaljer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| :-------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ID**                | UC-03                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Beskrivelse**       | Procentvis opdeling af tid brugt i definerede zoner.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **User Story**        | **For at** vurdere, om en spillers positionering matcher den aftalte taktik<br>**Som en** Trainer<br>**Vil jeg** se en procentvis opdeling af, hvor meget tid min spiller tilbringer i den defensive, offensive og transitionelle zone                                                                                                                                                                                                                                                                                                                                         |
| **Kommentarer**       | Omsætter visuelle positionsdata til konkrete metrikker.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Success Scenarios** | **S1: Visning af zoneanalyse**<br>**GIVET AT** en kamp er succesfuldt analyseret<br>**OG** jeg er på siden for kampanalyse<br>**NÅR** jeg vælger "Zoneanalyse" for en spiller<br>**SÅ SKAL** systemet vise et diagram med procentvis tid i "Defensiv", "Transition" og "Offensiv" zone<br>**OG** den faktiske tid i minutter/sekunder skal også være synlig<br><br>**S2: Sammenligning af spillere**<br>**GIVET AT** jeg ser zoneanalysen<br>**NÅR** jeg vælger at sammenligne flere spillere<br>**SÅ SKAL** systemet vise zonefordelingen for de valgte spillere side om side |
| **Failure Scenarios** | **F1: Analysedata er ikke tilgængelige**<br>**GIVET AT** en analyse er fejlet eller i gang<br>**NÅR** jeg forsøger at se zoneanalysen<br>**SÅ SKAL** systemet vise en besked om, at data ikke er klar, og angive status<br><br>**F2: Utilstrækkelige positionsdata**<br>**GIVET AT** AI'en ikke kunne spore en spiller tilstrækkeligt<br>**NÅR** jeg forsøger at se spillerens zoneanalyse<br>**SÅ SKAL** systemet vise en meddelelse om utilstrækkelige data                                                                                                                  |

### P6 - UC-02: Visning af spiller-heatmaps

| Use Case Element      | Detaljer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| :-------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ID**                | UC-02                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **Beskrivelse**       | Visning af spiller-heatmaps fra en analyseret kamp.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **User Story**        | **For at** forstå mine strategiske tendenser og udnytte svagheder i modstandernes placering<br>**Som en** Player<br>**Vil jeg** se et heatmap af min egen og mine modstanderes positionering på banen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **Kommentarer**       | En kerne-visualisering, der bygger oven på den grundlæggende positions-tracking.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Success Scenarios** | **S1: Visning af eget heatmap**<br>**GIVET AT** min kampvideo er succesfuldt analyseret<br>**OG** jeg er på siden for kampanalyse<br>**NÅR** jeg vælger "Heatmap"-visningen<br>**SÅ SKAL** systemet vise et 2D-kort af banen med et heatmap-overlay, hvor farveintensitet viser tid brugt<br><br>**S2: Sammenligning af heatmaps**<br>**GIVET AT** jeg ser heatmap-visningen<br>**NÅR** jeg aktiverer visningen for andre spillere<br>**SÅ SKAL** systemet vise flere heatmaps samtidigt eller lade mig skifte imellem dem<br>**OG** jeg skal tydeligt kunne skelne mellem spillernes heatmaps<br><br>**S3: Filtrering pr. sæt**<br>**GIVET AT** jeg analyserer en kamp med flere sæt<br>**NÅR** jeg filtrerer til kun at vise "1. sæt"<br>**SÅ SKAL** heatmappet opdateres og kun vise data fra første sæt |
| **Failure Scenarios** | **F1: Analysedata er ikke tilgængelige**<br>**GIVET AT** en analyse er fejlet eller i gang<br>**NÅR** jeg forsøger at se et heatmap<br>**SÅ SKAL** systemet vise en besked om, at data ikke er klar, og angive status<br><br>**F2: Utilstrækkelige positionsdata**<br>**GIVET AT** AI'en ikke kunne spore en spiller tilstrækkeligt<br>**NÅR** jeg forsøger at se spillerens heatmap<br>**SÅ SKAL** systemet vise en meddelelse om utilstrækkelige data                                                                                                                                                                                                                                                                                                                                                     |

### P7 - UC-05: Visualisering af slagpositioner

| Use Case Element      | Detaljer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| :-------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ID**                | UC-05                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Beskrivelse**       | Visualisering af hvor på banen en spiller slår sine slag fra.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **User Story**        | **For at** analysere min skudfordeling og dækning af banen<br>**Som en** Player<br>**Vil jeg** se en visualisering af, hvor på banen jeg slår mine slag fra                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Kommentarer**       | En anden kerne-visualisering, der viser præcise positioner for boldkontakt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Success Scenarios** | **S1: Visning af egne slagpositioner**<br>**GIVET AT** en kamp er succesfuldt analyseret<br>**OG** jeg er på siden for kampanalyse<br>**NÅR** jeg vælger "Slagpositioner"<br>**SÅ SKAL** systemet vise et 2D-kort af banen med punkter, der markerer mine slagpositioner<br><br>**S2: Sammenligning af spillere**<br>**GIVET AT** jeg ser visningen med slagpositioner<br>**NÅR** jeg vælger flere spillere<br>**SÅ SKAL** systemet vise alle valgte spilleres slagpositioner med unikke farver<br><br>**S3: Visning af point-udfald**<br>**GIVET AT** jeg ser mine egne slagpositioner<br>**NÅR** jeg aktiverer "point-udfald"<br>**SÅ SKAL** punkterne farvekodes efter, om duellen blev vundet eller tabt |
| **Failure Scenarios** | **F1: Slagpositions-data er ikke tilgængelige**<br>**GIVET AT** systemet ikke kunne identificere de enkelte slag under analysen<br>**NÅR** jeg forsøger at se "Slagpositioner"<br>**SÅ SKAL** systemet vise en meddelelse om, at data ikke kunne genereres<br><br>**F2: Utilstrækkelig mængde data**<br>**GIVET AT** jeg filtrerer til en periode med meget få slag<br>**NÅR** jeg ser slagpositionerne<br>**SÅ SKAL** systemet vise de få punkter og evt. en besked om, at mønstre kan være misvisende                                                                                                                                                                                                      |

### P8 - UC-08: Analyse af duel-længde (rallies)

| Use Case Element      | Detaljer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| :-------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **ID**                | UC-08                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Beskrivelse**       | Analyse af antal slag pr. duel og udfaldet heraf.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **User Story**        | **For at** identificere, om jeg vinder flest point i korte eller lange dueller<br>**Som en** Player<br>**Vil jeg** se en analyse af længden på duellerne                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **Kommentarer**       | En mere avanceret analyse, der kræver logik til at identificere start og slut på dueller.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Success Scenarios** | **S1: Generel oversigt**<br>**GIVET AT** en kamp er succesfuldt analyseret<br>**NÅR** jeg går til "Duelanalyse"-siden<br>**SÅ SKAL** systemet vise en oversigt som gennemsnitligt antal slag pr. duel og total vundne/tabte dueller<br><br>**S2: Opdeling af dueller**<br>**GIVET AT** jeg er på "Duelanalyse"-siden<br>**NÅR** jeg ser på opdelingen<br>**SÅ SKAL** systemet vise statistik for vundne/tabte point i "korte dueller" (1-4 slag) og "lange dueller" (5+ slag)<br><br>**S3: Filtrering pr. sæt**<br>**GIVET AT** jeg analyserer en kamp med flere sæt<br>**NÅR** jeg filtrerer til kun at vise "3. sæt"<br>**SÅ SKAL** al duel-statistik opdateres til kun at afspejle tredje sæt |
| **Failure Scenarios** | **F1: Duel-data kunne ikke genereres**<br>**GIVET AT** AI'en ikke kunne skelne de enkelte dueller fra hinanden<br>**NÅR** jeg forsøger at tilgå "Duelanalyse"<br>**SÅ SKAL** systemet vise en meddelelse om, at data ikke er tilgængelig                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

### P9 - UC-07: Filtrering af data pr. spiller

| Use Case Element      | Detaljer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| :-------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **ID**                | UC-07                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Beskrivelse**       | Filtrering af alle analyser til kun at vise data for specifikke spillere.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **User Story**        | **For at** kunne fokusere min feedback og forberedelse<br>**Som en** Trainer<br>**Vil jeg** kunne filtrere analysen til kun at vise data for en specifik spiller                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Kommentarer**       | Gennemgående funktion, der forbedrer brugervenligheden af de allerede implementerede analysevisninger.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Success Scenarios** | **S1: Filtrering til én spiller**<br>**GIVET AT** jeg er på en analyseside<br>**NÅR** jeg fravælger alle spillere undtagen én i et filter<br>**SÅ SKAL** visningen opdateres og kun vise data for den valgte spiller<br><br>**S2: Filtrering til flere spillere**<br>**GIVET AT** jeg er på en analyseside<br>**NÅR** jeg vælger flere spillere i filteret<br>**SÅ SKAL** visningen opdateres og kun vise data for de valgte spillere, tydeligt adskilt<br><br>**S3: Vedvarende filter**<br>**GIVET AT** jeg har sat et filter på "Heatmap"-siden<br>**NÅR** jeg navigerer til "Slagpositioner"-siden<br>**SÅ SKAL** den nye side automatisk være filtreret på samme måde |
| **Failure Scenarios** | **F1: Filter opdaterer ikke visning**<br>**GIVET AT** jeg er på en analyseside<br>**NÅR** jeg ændrer mit valg i filteret<br>**SÅ SKAL** visningen opdateres inden for en acceptabel tid. Hvis den ikke gør, er det en fejl.<br><br>**F2: Filter på visning uden data**<br>**GIVET AT** en spiller mangler data til en bestemt visning<br>**NÅR** jeg filtrerer til kun at omfatte denne spiller<br>**SÅ SKAL** systemet vise en "utilstrækkelige data"-besked i stedet for at fejle                                                                                                                                                                                       |

### P10 - UC-06: Personligt kamp-dashboard

| Use Case Element      | Detaljer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| :-------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **ID**                | UC-06                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **Beskrivelse**       | Et samlet overblik over en spillers præstation i en kamp.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **User Story**        | **For at** hurtigt få et overblik over min præstation<br>**Som en** Player<br>**Vil jeg** have et simpelt og visuelt dashboard, der præsenterer alle mine data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Kommentarer**       | Den afsluttende feature, der samler alle de individuelle analysekomponenter til en samlet, brugervenlig oversigt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **Success Scenarios** | **S1: Visning af dashboard**<br>**GIVET AT** en kamp er succesfuldt analyseret<br>**NÅR** jeg åbner resultatsiden<br>**SÅ SKAL** systemet vise et dashboard med widgets for: samlet antal slag, zonefordeling, mini-heatmap og duel-statistik<br><br>**S2: Navigation til detaljer**<br>**GIVET AT** jeg er på dashboardet<br>**NÅR** jeg klikker på en widget (f.eks. "Zonefordeling")<br>**SÅ SKAL** systemet navigere mig til den fulde, detaljerede visning<br><br>**S3: Skift af spillerprofil**<br>**GIVET AT** jeg er på dashboardet<br>**NÅR** jeg skifter spillerprofil til min makker<br>**SÅ SKAL** alle datamoduler på dashboardet opdateres til at vise makkerens statistikker |
| **Failure Scenarios** | **F1: Delvis analysedata tilgængelig**<br>**GIVET AT** en del af analysen fejlede<br>**NÅR** jeg ser dashboardet<br>**SÅ SKAL** de widgets med data vises korrekt, mens widgets uden data skal vise en fejlmeddelelse<br><br>**F2: Ingen analysedata findes endnu**<br>**GIVET AT** jeg navigerer til en kamp, der ikke er analyseret<br>**NÅR** jeg forsøger at se dashboardet<br>**SÅ SKAL** systemet vise en overordnet status (f.eks. "Videoen analyseres")                                                                                                                                                                                                                             |

---

## Ikke-funktionelle Krav (NFRs)

Dette afsnit beskriver de overordnede kvalitetskrav til systemet, som ikke er direkte relateret til en specifik funktion.

### NFR-Y: Ydeevne (Performance)

- **NFR-Y1:** Videoanalyse af en standard 60-minutters kamp (720p, 30fps) skal være gennemført inden for 30 minutter efter, at upload er fuldført.
- **NFR-Y2:** Indlæsning af dashboard (UC-06) og andre analysesider med visualiseringer skal ske på under 3 sekunder under normale netværksforhold.
- **NFR-Y3:** Uploadede videoer skal have en minimumslængde på 5 minutter og må maksimalt være 120 minutter lange. Systemet skal afvise videoer uden for dette interval med en tydelig fejlmeddelelse.

### NFR-S: Sikkerhed (Security)

- **NFR-S1:** Bruger-adgangskoder skal opbevares sikkert i databasen ved brug af en moderne, stærk hashing-algoritme med salt (f.eks. Argon2 eller bcrypt).
- **NFR-S2:** Brugerdata, herunder videoer og analyseresultater, skal være strengt adskilt, så en bruger kun kan tilgå egne data.
- **NFR-S3:** Uploadede kampvideoer må ikke gemmes permanent og skal automatisk slettes fra systemet, når analysen er fuldført og resultaterne er genereret.

### NFR-B: Brugervenlighed (Usability)

- **NFR-B1:** Webinterfacet skal være responsivt og give en god brugeroplevelse på de seneste to versioner af gængse browsere (Google Chrome, Mozilla Firefox, Apple Safari, Microsoft Edge) på både desktop og mobile enheder.
- **NFR-B2:** Systemet skal være designet intuitivt, så en ny bruger kan navigere i og forstå de primære funktioner uden at skulle læse en manual.

### NFR-T: Tilgængelighed (Availability)

- **NFR-T1:** Systemet skal have en planlagt oppetid på mindst 99.5% målt på månedsbasis, eksklusive planlagte vedligeholdelsesvinduer.
- **NFR-T2:** Planlagt vedligeholdelse, der kræver nedetid, skal så vidt muligt placeres uden for spidsbelastningsperioder og varsles til brugerne mindst 48 timer i forvejen.
